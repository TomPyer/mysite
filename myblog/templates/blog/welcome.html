<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome</title>
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- 可选的Bootstrap主题文件（一般不用引入） -->
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!-- Angular文件-->
    <script src="http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"></script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

        <!-- include summernote css/js-->
    <link href="/static/summernote-develop/dist/summernote.css" rel="stylesheet">
    <script src="/static/summernote-develop/dist/summernote.js"></script>
    <!--国际化 -->
    <script src="/static/summernote-develop/lang/summernote-zh-CN.js"></script>
    <link href="http://cdn.gbtags.com/twitter-bootstrap/3.2.0/css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <link href="http://cdn.gbtags.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="http://cdn.gbtags.com/summernote/0.5.2/summernote.css" rel="stylesheet" type="text/css"/>

    <style type="text/css">
    *{margin:0;padding:0;font-size:14px;}
    .dh{
      position: fixed;
      top: 500px;
      right:50px;
      z-index:999;
    }
    .normBox {
        color: #5E5E5E;
        width: 950px;
        height: 300px;
        margin-right: auto;
        margin-left: auto;
        margin-top: 48px;
    }
    .a{
        color: #098ddf;
    }
    .listBox {
        width: 278px;
        border-top-width: 2px;
        border-top-style: solid;
        border-top-color: #1d8dcd;
        background-color: #fafafa;
    }
    .blogListBox {
        width: 278px;
        border-left-width: 2px;
        border-left-style: solid;
        border-left-color: #1d8dcd;
        border-right: solid 2px #1d8dcd;
        background-color: #fafafa;
        margin-left: 150px;
    }
    .fltlft {
	    float: left;
    }
    .ml57 {
        margin-left: 58px;
    }
    .textCenter {
        text-align: center;
    }
    .listBox .listItem  {
        font-size: 16px;
        padding-top: 16px;
        padding-bottom: 16px;
        transition: background-color .15s;
        -webkit-transition: background-color .15s;
    }
    .listBox .listTitle {
        font-size: 20px;
        padding-top: 10px;
        padding-bottom: 12px;
    }
    .clearfloat {
        clear:both;
        height:0;
        font-size: 1px;
        line-height: 0px;
    }
    .varea {
        width: 950px;
        margin-right: auto;
        margin-left: auto;
    }
    .footer {
        position: absolute;
        background-color: #f9f9f9;
        z-index: 1000;
        width: 100%;
        bottom: 0;
        border-top-width: 2px;
        border-top-style: solid;
        border-top-color: #eeeeee;
    }
    .bg1 {
        background-color: #f9f9f9;
    }
    .enFont {
        font-family: Arial, Helvetica, Simsun, STHeiti;
    }
    .copyright {
        font-size: 14px;
        color: #5e5e5e;
        padding-top: 23px;
    }
    .fltrt {
        float: right;
    }
    .normDecorA {
        color: #5e5e5e;
        text-decoration: none;
    }
    .blueA {
        color: #1d8dcd;
        text-decoration: none;
    }
</style>
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header navbar-left" style="width: auto; min-width:25%">
                <a class="navbar-brand" href="#"><b>TANGBLOG</b></a>
            </div>
            <div>
                <ul class="nav navbar-nav navbar-left">
                    <li style="width: 100px; text-align: center;"class="dropdown"><a href="/blog/index"><b>Home</b></a></li>
                    <li style="width: 100px; text-align: center;"class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <b>Python</b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/blog/python/?catagoryid=3"><b>Python2.7</b></a></li>
                            <li><a href="/blog/python/?catagoryid=4"><b>Python3.x</b></a></li>
                        </ul>
                    </li>
                    <li style="width: 100px; text-align: center;"class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <b>System</b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/blog/python/?catagoryid=5"><b>CentOS 6.7</b></a></li>
                            <li><a href="/blog/python/?catagoryid=6"><b>Windows</b></a></li>
                        </ul>
                    </li>
                    <li style="width: 100px; text-align: center;"class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <b>SQL</b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/blog/python/?catagoryid=7"><b>MySQL</b></a></li>
                            <li><a href="/blog/python/?catagoryid=8"><b>Redis</b></a></li>
                        </ul>
                    </li>
                    <li style="width: 100px; text-align: center;"class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <b>WEB</b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/blog/python/?catagoryid=9"><b>HTML</b></a></li>
                            <li><a href="/blog/python/?catagoryid=10"><b>CSS</b></a></li>
                            <li><a href="/blog/python/?catagoryid=11"><b>JavaScript</b></a></li>
                            <li><a href="/blog/python/?catagoryid=12"><b>BootStrap</b></a></li>
                            <li class="divider"></li>
                                <li><a href="/blog/python/?catagoryid=13"><b>Web.py</b></a></li>
                                <li><a href="/blog/python/?catagoryid=14"><b>Flask</b></a></li>
                                <li><a href="/blog/python/?catagoryid=15"><b>Tornado</b></a></li>
                                <li><a href="/blog/python/?catagoryid=16"><b>Django</b></a></li>
                        </ul>
                    </li>
                    <li style="width: 120px; text-align: center;"class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <b>Other tools</b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="/blog/python/?catagoryid=17"><b>Gunicorn</b></a></li>
                            <li><a href="/blog/python/?catagoryid=18"><b>Nginx</b></a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div>
                <form class="navbar-form navbar-right" role="search" action="/blog/search_blog/" method="GET">
                    <div class="form-group">
                        <input  id="select_key" name='select_key' type="text" class="form-control" placeholder="请输入文章标题关键字">
                    </div>
                    <button type="submit" class="btn btn-default"><b>搜索</b></button>
                </form>
            </div>
        </div>
    </nav>

    <div> {% block wel_text %}
    {% endblock %}</div>
    <div>{% block container %}
	{% endblock %}
    </div>
    {% block blog_text %}
    {% endblock %}
    {% block text_edit %}
    {% endblock %}
    {% block blog_info %}
    {% endblock %}
    {% block select_info %}
    {% endblock %}
    <div class="dh .navbar-fixed-bottom">
        <ul style="list-style: none;">
            <li ><a href="/admin"><b>管理登录</b></a></li>
            <li ><a href="/blog/add_blog"><b>博文编辑</b></a></li>
            <li ><a><b>联系站长</b></a></li>
            <li ><a href="#top"><b>返回顶部</b></a></li>
            <li ><a href="/blog/index"><b>返回首页</b></a></li>
        </ul>
    </div>

</body>
<script>
    function select_blog(){
        var selkey = document.getElementById('select_key');
        window.location.href = "http://127.0.0.1:8000/blog/search_blog/?sel_key="+selkey.value;
    }
</script>
<script>
    $(document).ready(function () {
        //初始化文本框编辑器
        $("#summernote").summernote({
            height: 280,
            width: 850,
            lang: 'zh-CN',
            callbacks: {
                onImageUpload: function (files) {
                    sendFile(files[0], this);
                }
            },
            minHeight: null,             // set minimum height of editor
            maxHeight: null,             // set maximum height of editor
            focus: true                // set focus to editable area after initializing summernote});

        });

    });
    function sendFile(file, el) {
        var formData = new FormData();
        formData.append("photo", file);
        var fileData = URL.createObjectURL(file);
        $(el).summernote('insertImage', fileData, function ($image) {
            $.ajax({
                url: "/Account/UploadFile",
                data: formData,
                cache: false,
                contentType: false,
                processData: false,
                dataType: "text",
                type: 'POST',
                success: function (url) {
                    if (url == "") {
                        $image.attr('src', "");

                    } else {
                        $image.attr('src', url);
                    }
                }
            });
        });
    }
    $('#myAffix').affix({
      offset: {
        top: 100,
        bottom: function () {
          return (this.bottom = $('.footer').outerHeight(true))
        }
      }
    })

</script>
<script>
    function show(box) {
       // var box = document.getElementById("box");
        var text = box.innerHTML;
        var newBox = document.createElement("div");
        var btn = document.createElement("a");
        newBox.innerHTML = text.substring(0, 200);
        btn.innerHTML = text.length > 200 ? "...显示全部" : "";
        btn.href = "###";
        btn.onclick = function () {
            if (btn.innerHTML == "...显示全部") {
                btn.innerHTML = "收起";
                newBox.innerHTML = text;
            } else {
                btn.innerHTML = "...显示全部";
                newBox.innerHTML = text.substring(0, 200);
            }
            return false;
        };
        box.innerHTML = "";
        box.appendChild(newBox);
        box.appendChild(btn);
    }
    var divs = document.getElementsByTagName('div');
    for (var i = 0; i < divs.length; i++) {
        if (divs[i].className == 'box') show(divs[i]);
    }
</script>
</html>
<!--
<script>
    $(document).ready(function() {
      $('#editor').summernote({
        lang: 'zh-CN' // default: 'en-US'
      });
    });
</script>
-->